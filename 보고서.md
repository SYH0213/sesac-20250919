## 파이프라인 전체 흐름

[START]
   │
   ▼
[classify_input]  ── 의도분류 → { conversational | question }
   │
   ├─ if conversational ───────────────► [generate_conversational_response] ─► (END)
   │
   └─ if question
        │
        ▼
    [retrieve] ──(history-aware)──► 문서 검색
        │
        ▼
 [grade_documents] ── 문서 관련성 평가
        │
        ├─ 관련 문서 있음(Yes) ─► [generate] ────────────────────────────────► (END)
        │
        └─ 관련 문서 없음(No)
                 │
                 ▼
          [notify_user] ── "문서에서 답변 실패, 웹검색 시도"
                 │
                 ▼
        [transform_query] ── 검색 친화적 쿼리로 재작성
                 │
                 ▼
         [web_search_node] ── (Tavily) 웹결과를 문맥으로 추가
                 │
                 ▼
               [generate] ───────────────────────────────────────────────────► (END)


![이미지1](./images/1.png)
![이미지2](./images/2.png)
![이미지3](./images/3.png)
![이미지4](./images/4.png)
![이미지5](./images/5.png)
![이미지6](./images/6.png)
![이미지7](./images/7.png)
![이미지8](./images/8.png)
![이미지9](./images/9.png)